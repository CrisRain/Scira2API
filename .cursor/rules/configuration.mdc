---
description: 
globs: 
alwaysApply: true
---
# 配置管理指南

## 配置系统
项目使用结构化配置管理，配置代码位于 [config/config.go](mdc:config/config.go)。

## 环境变量配置
支持的环境变量（在 [.env copy.example](mdc:.env copy.example) 中有示例）：

### 必需配置
- `USERIDS`: Scira 用户 ID 列表（逗号分隔）

### 可选配置
- `PORT`: 服务端口（默认: 8080）
- `APIKEY`: API 认证密钥
- `MODELS`: 支持的模型列表（逗号分隔）
- `RETRY`: 请求重试次数（默认: 1）
- `HTTP_PROXY`: HTTP 代理地址
- `BASE_URL`: Scira API 基础 URL（默认: https://scira.ai/）
- `CLIENT_TIMEOUT`: 客户端超时时间（秒，默认: 300）
- `CHAT_DELETE`: 是否删除聊天记录（默认: false）

## 配置结构
配置按功能模块组织：
- `ServerConfig`: 服务器配置（端口）
- `AuthConfig`: 认证配置（API密钥）
- `SciraConfig`: Scira API 配置
- `ClientConfig`: HTTP 客户端配置

## 配置加载
- 使用 `godotenv` 加载 .env 文件
- 支持环境变量覆盖
- 包含配置验证和默认值设置

## 使用示例
```go
cfg, err := config.NewConfig()
if err != nil {
    log.Fatal("Failed to load config: %v", err)
}
```

